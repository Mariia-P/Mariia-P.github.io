(this.webpackJsonpmarvel=this.webpackJsonpmarvel||[]).push([[0],{18:function(e,t,n){},24:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var i=n(1),s=n.n(i),c=n(19),a=n.n(c),r=n(8),l=n(3),o=n(10),d=(n(24),n(0)),j=function(){return Object(d.jsxs)("header",{className:"app__header",children:[Object(d.jsxs)("h1",{className:"app__title",children:[Object(d.jsx)("span",{children:"Recipies"})," information app"]}),Object(d.jsx)("nav",{className:"app__menu",children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(o.b,{to:"/",children:"Ramdom dish"})}),"/",Object(d.jsx)("li",{children:Object(d.jsx)(o.b,{to:"/favourites",children:"Favourites"})})]})})]})},u=n(2),b=n(7),m=n(12),h=n(15),O=n(14),f=(n(26),n.p+"static/media/img.0c87aba5.jpg"),x=function(e){var t=e.dish,n=t.name,s=t.description,c=t.thumb,a=t.ingridients,r=t.moreDescription,o=Object(i.useState)("Read More"),j=Object(l.a)(o,2),u=j[0],b=j[1],m=r?Object(d.jsx)("button",{onClick:function(){b((function(e){return"Read More"===e?"Read Less":"Read More"}))},className:"randomdish__button-more",children:u}):null,h=c||f,O=a.map((function(e,t){var n=" ".concat(t+1," ").concat(e," ");return Object(d.jsx)("li",{className:"randomdish__ingridient-item",children:n},t)})),x="Read More"===u?s:"".concat(s," +' '+ ").concat(r);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"randomdish__top-wrapper",children:[Object(d.jsx)("img",{src:h,alt:"image of dish",className:"randomdish__img"}),Object(d.jsx)("ul",{className:"randomdish__ingridient-list",children:O})]}),Object(d.jsxs)("div",{className:"randomdish__info",children:[Object(d.jsx)("h2",{children:n}),Object(d.jsx)("p",{children:x}),m]})]})},p=function(){return Object(d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",style:{margin:"0 auto",background:"none",display:"block"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",children:[Object(d.jsx)("g",{transform:"translate(80,50)",children:Object(d.jsx)("g",{transform:"rotate(0)",children:Object(d.jsxs)("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"1",children:[Object(d.jsx)("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.875s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),Object(d.jsx)("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.875s"})]})})}),Object(d.jsx)("g",{transform:"translate(71.21320343559643,71.21320343559643)",children:Object(d.jsx)("g",{transform:"rotate(45)",children:Object(d.jsxs)("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.875",children:[Object(d.jsx)("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.75s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),Object(d.jsx)("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.75s"})]})})}),Object(d.jsx)("g",{transform:"translate(50,80)",children:Object(d.jsx)("g",{transform:"rotate(90)",children:Object(d.jsxs)("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.75",children:[Object(d.jsx)("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.625s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),Object(d.jsx)("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.625s"})]})})}),Object(d.jsx)("g",{transform:"translate(28.786796564403577,71.21320343559643)",children:Object(d.jsx)("g",{transform:"rotate(135)",children:Object(d.jsxs)("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.625",children:[Object(d.jsx)("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.5s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),Object(d.jsx)("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.5s"})]})})}),Object(d.jsx)("g",{transform:"translate(20,50.00000000000001)",children:Object(d.jsx)("g",{transform:"rotate(180)",children:Object(d.jsxs)("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.5",children:[Object(d.jsx)("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.375s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),Object(d.jsx)("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.375s"})]})})}),Object(d.jsx)("g",{transform:"translate(28.78679656440357,28.786796564403577)",children:Object(d.jsx)("g",{transform:"rotate(225)",children:Object(d.jsxs)("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.375",children:[Object(d.jsx)("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.25s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),Object(d.jsx)("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.25s"})]})})}),Object(d.jsx)("g",{transform:"translate(49.99999999999999,20)",children:Object(d.jsx)("g",{transform:"rotate(270)",children:Object(d.jsxs)("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.25",children:[Object(d.jsx)("animateTransform",{attributeName:"transform",type:"scale",begin:"-0.125s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),Object(d.jsx)("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"-0.125s"})]})})}),Object(d.jsx)("g",{transform:"translate(71.21320343559643,28.78679656440357)",children:Object(d.jsx)("g",{transform:"rotate(315)",children:Object(d.jsxs)("circle",{cx:"0",cy:"0",r:"7",fill:"#1c4595",fillOpacity:"0.125",children:[Object(d.jsx)("animateTransform",{attributeName:"transform",type:"scale",begin:"0s",values:"1.5 1.5;1 1",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"}),Object(d.jsx)("animate",{attributeName:"fillOpacity",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite",values:"1;0",begin:"0s"})]})})})]})},g=n(11),v=n.n(g),_=n(17),N=function e(){var t=this;Object(b.a)(this,e),this._apiBase="https://www.themealdb.com/api/json/v1/1/random.php",this.getResource=function(){var e=Object(_.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getRecipe=Object(_.a)(v.a.mark((function e(){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource(t._apiBase);case 2:return n=e.sent,e.abrupt("return",t._transformRecipe(n.meals[0]));case 4:case"end":return e.stop()}}),e)}))),this._transformRecipe=function(e){var t=[];for(var n in e)if(n.includes("strIngredient")&&e[n]){var i=n.slice(13),s="strMeasure".concat(i);t.push("".concat(e[n]," - ").concat(e[s]))}return{name:e.strMeal,description:e.strInstructions.slice(0,450),moreDescription:e.strInstructions.slice(450),thumb:e.strMealThumb,ingridients:t,id:e.idMeal}}},y=n.p+"static/media/error.42292aa1.gif",k=function(){return Object(d.jsx)("img",{style:{display:"block",width:"250px",height:"250px",objectFit:"contain",margin:"0 auto"},src:y,alt:"Error"})},w=(n(18),function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(e){var i;return Object(b.a)(this,n),(i=t.call(this,e)).recipiesService=new N,i.onDishLoading=function(){i.setState({newItemLoading:!0})},i.onDishLoaded=function(e){i.setState({dish:e,loading:!1,newItemLoading:!1,isLike:!1})},i.onError=function(e){console.log("[e]",e),i.setState({loading:!1,error:!0})},i.updateDish=function(){i.onDishLoading(),i.setState({loading:!0}),i.recipiesService.getRecipe().then(i.onDishLoaded).catch(i.onError)},i.state={dish:{},loading:!0,error:!1,newItemLoading:!1,isLike:!1},i.handleClick=function(){i.state.isLike||(i.setState({isLike:!0}),i.props.onAdd(i.state.dish))},i}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.updateDish()}},{key:"render",value:function(){var e=this.state,t=e.dish,n=e.loading,i=e.error,s=e.newItemLoading,c=e.isLike,a=i?Object(d.jsx)(k,{}):null,r=n?Object(d.jsx)("div",{className:"randomdish__spinner-wrapper",children:Object(d.jsx)(p,{})}):null,l=n||i?null:Object(d.jsx)(x,{dish:t}),o=c?"randomdish randomdish__shadow-red":"randomdish";return Object(d.jsxs)("div",{className:o,children:[a,r,l,Object(d.jsxs)("div",{className:"randomdish__btns",children:[Object(d.jsx)("button",{type:"submit",onClick:this.handleClick,className:"button button__main",children:Object(d.jsx)("div",{className:"inner",children:"Like"})}),Object(d.jsx)("button",{disabled:s,onClick:this.updateDish,className:"button button__secondary",children:Object(d.jsx)("div",{className:"inner",children:"Next"})})]})]})}}]),n}(i.Component)),C=(n(28),function(e){var t=e.name,n=e.id,i=e.onDishSelected,s=e.thumb,c=e.onDelete,a=t.slice(0,15);return Object(d.jsxs)("li",{className:"dish__item",tabIndex:"0",children:[Object(d.jsx)("img",{src:s,alt:t,onClick:i}),Object(d.jsxs)("div",{className:"dish__info-wrapper",children:[Object(d.jsxs)("div",{className:"dish__name",children:[a,"..."]}),Object(d.jsx)("button",{type:"button",className:"btn-trash btn-sm ",onClick:c,children:Object(d.jsx)("i",{className:"fas fa-trash"})})]})]},n)}),S=(n(29),function(e){var t=e.dishes,n=e.onDelete,s=e.onDishSelected,c=Object(i.useState)(1),a=Object(l.a)(c,2),o=a[0],j=a[1],u=Object(i.useState)([]),b=Object(l.a)(u,2),m=b[0],h=b[1];Object(i.useEffect)((function(){var e=t.slice(3*(o-1),3*(o-1)+3);h((function(t){return[].concat(Object(r.a)(t),Object(r.a)(e))}))}),[o]),Object(i.useEffect)((function(){var e=t.slice(0,3*(o-1)+3);h(Object(r.a)(e))}),[t]);var O=function(){j((function(e){return e+1}))},f=m.map((function(e){var t=e.name,i=e.thumb,c=e.id;return Object(d.jsx)(C,{name:t,thumb:i,onDishSelected:function(){return s(c)},onDelete:function(){return n(c)}},c)})),x=function(){return Object(d.jsx)("button",{className:"button button__main button__long",onClick:O,children:Object(d.jsx)("div",{className:"inner",children:"Show more"})})},p=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("ul",{className:"dish__grid",children:f}),t.length>3*o?Object(d.jsx)(x,{}):null]})},g=t.length>0?null:Object(d.jsx)("p",{className:"dish__list-empty",children:"There are no recipes yet"});return Object(d.jsx)("div",{className:"dish__list",children:g||Object(d.jsx)(p,{})})}),T=(n(30),function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{className:"dish__select",children:"Please select a dish to see information"}),Object(d.jsxs)("div",{className:"skeleton",children:[Object(d.jsxs)("div",{className:"pulse skeleton__header",children:[Object(d.jsx)("div",{className:"pulse skeleton__circle"}),Object(d.jsx)("div",{className:"pulse skeleton__mini"})]}),Object(d.jsx)("div",{className:"pulse skeleton__block"}),Object(d.jsx)("div",{className:"pulse skeleton__block"}),Object(d.jsx)("div",{className:"pulse skeleton__block"})]})]})}),D=(n(31),function(e){var t=e.dish[0],n=t.name,i=t.description,s=t.moreDescription,c=t.thumb,a=t.ingridients;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"dish__basics",children:[Object(d.jsx)("img",{src:c,alt:n}),Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"dish__info-name",children:n})})]}),Object(d.jsxs)("div",{className:"dish__descr",children:[i,s]}),Object(d.jsx)("div",{className:"dish__comics",children:"Ingridients:"}),Object(d.jsx)("ul",{className:"dish__comics-list",children:a.length>0?a.map((function(e,t){return Object(d.jsxs)("li",{className:"dish__comics-item",children:[t+1," ",e]},t)})):Object(d.jsx)("p",{children:"There are no ingridients in this recipe"})})]})}),L=function(e){var t=e.dish,n=t.length>0?null:Object(d.jsx)(T,{}),i=t.length>0?Object(d.jsx)(D,{dish:t}):null;return Object(d.jsxs)("div",{className:"dish__info",children:[n,i]})},I=function(e){Object(h.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(b.a)(this,n);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={error:!1},e}return Object(m.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log("[error]",e),console.log("[errorInfo]",t),this.setState({error:!0})}},{key:"render",value:function(){return this.state.error?Object(d.jsx)(k,{}):this.props.children}}]),n}(i.Component),R=I,A=(n(32),function(e){var t=e.setActive;return Object(d.jsx)("button",{className:"addDishButton",onClick:function(){return t(!0)},children:"ADD"})}),M=n(13),E=n(5),F=n(37),B=n.p+"static/media/times-circle-regular.0f761569.svg",J=(n(33),function(e){var t=e.active,n=e.setActive,s=e.onAdd,c=Object(i.useState)({name:"",description:"",thumb:f,ingridients:[],id:Object(F.a)()}),a=Object(l.a)(c,2),r=a[0],o=a[1],j=Object(i.useState)(""),u=Object(l.a)(j,2),b=u[0],m=u[1],h=Object(i.useState)(null),O=Object(l.a)(h,2),x=O[0],p=O[1],g=Object(i.useState)(!0),v=Object(l.a)(g,2),_=v[0],N=v[1];Object(i.useEffect)((function(){x&&(s(r),y())}),[x]);var y=function(){o({name:"",description:"",thumb:f,ingridients:[],id:Object(F.a)()})},k=function(e){return!!/[\w ,.!:?'-]{3,500}$/g.test(e)},w=function(){N(!1)},C=function(){n(!1),b?(o((function(e){return Object(E.a)(Object(E.a)({},e),{},{ingridients:e.ingridients.concat(b)})})),p(!0),m("")):(s(r),y()),N(!0)},S=function(e){o((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(M.a)({},e.target.name,e.target.value))}))},T=_?Object(d.jsx)("h2",{children:"Add your own dish"}):Object(d.jsx)("h2",{children:"Your message should be no less than 3 symbols"});return Object(d.jsx)("div",{className:t?"modal active":"modal",onClick:function(){return n(!1)},children:Object(d.jsxs)("div",{className:t?"modal__content active":"modal__content",onClick:function(e){return e.stopPropagation()},children:[" ",Object(d.jsx)("button",{className:"modal__close",onClick:function(){return n(!1)},children:Object(d.jsx)("img",{className:"modal__close-icon modal-cancel",src:B,alt:"close modal window"})}),T,Object(d.jsxs)("form",{className:"form",action:"url",children:[Object(d.jsx)("input",{value:r.name,type:"text",placeholder:"Enter name of the dish",required:!0,name:"name",onChange:S}),Object(d.jsxs)("div",{className:"form__ingridient-wrapper",children:[Object(d.jsx)("i",{onClick:function(){o((function(e){return Object(E.a)(Object(E.a)({},e),{},{ingridients:e.ingridients.concat(b)})})),m("")},className:"fas fa-plus form__icon",alt:"add more ingridients"}),Object(d.jsx)("input",{value:b,onChange:function(e){m(e.target.value)},className:"dropdown__input",type:"text",placeholder:"Add an ingridient",name:"ingridient",autoComplete:"off"})]}),Object(d.jsxs)("div",{className:"form__textarea-wrepper",children:[Object(d.jsx)("label",{htmlFor:"txt",children:"Description"}),Object(d.jsx)("textarea",{value:r.description,name:"description",id:"txt",cols:"30",rows:"10",onChange:S})]}),Object(d.jsx)("div",{className:"form__button-wrapper",children:Object(d.jsx)("button",{type:"submit",className:"button button__secondary",onClick:function(e){e.preventDefault(),k(r.name)&&k(r.description)?C():w()},children:Object(d.jsx)("div",{className:"inner",children:"Send"})})})]})]})})}),P=function(){var e=null!==localStorage.getItem("favourite")?JSON.parse(localStorage.getItem("favourite")):[],t=Object(i.useState)([]),n=Object(l.a)(t,2),s=n[0],c=n[1],a=Object(i.useState)(e),b=Object(l.a)(a,2),m=b[0],h=b[1],O=Object(i.useState)(!1),f=Object(l.a)(O,2),x=f[0],p=f[1];Object(i.useEffect)((function(){localStorage.setItem("favourite",JSON.stringify(m))}),[m]);var g=function(e){var t=[{name:e.name,description:e.description,thumb:e.thumb,ingridients:e.ingridients,id:e.id}];h((function(e){return[].concat(Object(r.a)(e),t)}))};return Object(d.jsx)(o.a,{children:Object(d.jsxs)("div",{className:"app",children:[Object(d.jsx)(j,{}),Object(d.jsx)("main",{children:Object(d.jsxs)(u.c,{children:[Object(d.jsx)(u.a,{path:"/favourites",element:Object(d.jsxs)("div",{className:"dish__content",children:[Object(d.jsx)(R,{children:Object(d.jsx)(S,{dishes:m,onDelete:function(e){h((function(t){return t.filter((function(t){return t.id!==e}))}))},onDishSelected:function(e){c((function(){return m.filter((function(t){return t.id===e}))}))}})}),Object(d.jsx)(R,{children:Object(d.jsx)(L,{dish:s})}),Object(d.jsx)(A,{setActive:p}),Object(d.jsx)(J,{active:x,setActive:p,onAdd:g})]})}),Object(d.jsx)(u.a,{path:"*",exact:!0,element:Object(d.jsx)("div",{className:"recipie__content",children:Object(d.jsx)(R,{children:Object(d.jsx)(w,{onAdd:g})})})})]})})]})})};n(34);a.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(P,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.59dbbd94.chunk.js.map